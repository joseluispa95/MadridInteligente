{"version":3,"sources":["../../../widgets/FiltroComercio/Widget.js"],"names":["define","declare","BaseWidget","FeatureLayer","Graphic","PictureMarkerSymbol","Query","baseClass","startup","urlComLoc","filtrar","comLoc","outFields","setDefinitionExpression","selectComercio","value","map","addLayer","filtrardis","selectDistrito"],"mappings":"AAAAA,OAAO,CAAC,oBAAD,EACP,iBADO,EAEP,0BAFO,EAGP,cAHO,EAIP,kCAJO,EAKP,kBALO,CAAP,EAMA,UAASC,OAAT,EAAkBC,UAAlB,EAA6BC,YAA7B,EAA0CC,OAA1C,EAAkDC,mBAAlD,EAAsEC,KAAtE,EAA6E;AAC3E;AACA,WAAOL,QAAQ,CAACC,UAAD,CAAR,EAAsB;;AAE3B;;AAEAK,mBAAW,mBAJgB;AAK3B;AACA;AACA;;AAEAC,iBAAS,mBAAW;;AAElB;;;AAIAC,wBAAY,iEAAZ;AAKD,SApB0B;;AAsB3BC,iBAAS,mBAAW;;AAElBC,qBAAS,IAAIR,YAAJ,CAAiBM,SAAjB,EAA2B;AAClCG,2BAAW,CAAC,YAAD,EAAc,YAAd,EAA2B,YAA3B,EAAwC,QAAxC;AADuB,aAA3B,CAAT;;AAIAD,mBAAOE,uBAAP,CAA+B,mBAAmB,KAAKC,cAAL,CAAoBC,KAAvC,GAA+C,GAA9E;;AAEA,iBAAKC,GAAL,CAASC,QAAT,CAAkBN,MAAlB;AACD,SA/B0B;;AAiC3BO,oBAAY,sBAAW;;AAErBP,qBAAS,IAAIR,YAAJ,CAAiBM,SAAjB,EAA2B;AAClCG,2BAAW,CAAC,YAAD,EAAc,YAAd,EAA2B,YAA3B,EAAwC,QAAxC;AADuB,aAA3B,CAAT;;AAIAD,mBAAOE,uBAAP,CAA+B,mBAAmB,KAAKM,cAAL,CAAoBJ,KAAvC,GAA+C,GAA9E;;AAEA,iBAAKC,GAAL,CAASC,QAAT,CAAkBN,MAAlB;AACD;;AA1C0B,KAAtB,CAAP;AAgDD,CAxDD","file":"Widget.js","sourcesContent":["define(['dojo/_base/declare', \r\n'jimu/BaseWidget',\r\n\"esri/layers/FeatureLayer\",\r\n\"esri/graphic\",\r\n\"esri/symbols/PictureMarkerSymbol\",\r\n\"esri/tasks/query\"],\r\nfunction(declare, BaseWidget,FeatureLayer,Graphic,PictureMarkerSymbol,Query) {\r\n  //To create a widget, you need to derive from BaseWidget.\r\n  return declare([BaseWidget], {\r\n\r\n    // Custom widget code goes here\r\n\r\n    baseClass: 'filtrado-comercio',\r\n    // this property is set by the framework when widget is loaded.\r\n    // name: 'FiltroComercio',\r\n    // add additional properties here\r\n\r\n    startup: function() { \r\n\r\n      // comLoc = this.map.getLayer(\"ComercioLocal_8383\");\r\n      \r\n      \r\n\r\n      urlComLoc = 'https://pcjlp/server/rest/services/PFM/localComerce/MapServer/0';\r\n\r\n      \r\n      \r\n    \r\n    },\r\n\r\n    filtrar: function() {\r\n\r\n      comLoc = new FeatureLayer(urlComLoc,{\r\n        outFields: [\"nombre_loc\",\"nombre_bar\",\"tipo_comer\",\"rating\"]\r\n      });\r\n      \r\n      comLoc.setDefinitionExpression(\"tipo_comer = '\" + this.selectComercio.value + \"'\");\r\n\r\n      this.map.addLayer(comLoc);\r\n    },\r\n\r\n    filtrardis: function() {\r\n\r\n      comLoc = new FeatureLayer(urlComLoc,{\r\n        outFields: [\"nombre_loc\",\"nombre_bar\",\"tipo_comer\",\"rating\"]\r\n      });\r\n      \r\n      comLoc.setDefinitionExpression(\"nombre_bar = '\" + this.selectDistrito.value + \"'\");\r\n\r\n      this.map.addLayer(comLoc);\r\n    },\r\n\r\n    \r\n\r\n  });\r\n\r\n});\r\n"]}